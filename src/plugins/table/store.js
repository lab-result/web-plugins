import {
  DEFAULT_PAGINATION_VALUE,
  DEFAULT_DIAGNOSTIC_STATUS_FILTER_VALUE,
  DEFAULT_DATE_FILTER_VALUE,
  MONTH_DATE_FILTER_VALUE,
} from '../../constants/tables';
import { cloneDeep, upperFirst } from 'lodash';
import { mapSetters } from '../../utils/store';

const DEFAULT_STATE = {
  // billing
  billingArReportsPagination: DEFAULT_PAGINATION_VALUE,
  billingArReportsDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingArReportsSearchText: '',
  billingArReportsStatusFilter: '',
  billingArReportsPartnerFilter: null,
  billingArReportsCoverageTypeFilter: null,
  billingActiveEncountersPagination: DEFAULT_PAGINATION_VALUE,
  billingActiveEncountersStatusFilter: '',
  billingActiveEncountersStaffFilter: '',
  billingActiveEncountersSearchText: '',
  billingExpensesPagination: DEFAULT_PAGINATION_VALUE,
  billingTotalSalesReportPagination: DEFAULT_PAGINATION_VALUE,
  billingTotalSalesReportDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingReportsPaginatedTablePagination: DEFAULT_PAGINATION_VALUE,
  billingReportsPaginatedTableDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingReportsPaginatedTablePatientFilter: null,
  billingReportsPaginatedTableServiceFilter: null,
  billingReportsPaginatedTableVariantFilter: null,
  billingDailyCensusReportServiceTypeFilter: { name: 'All' },
  billingReportsDoctorDisbursementPagination: DEFAULT_PAGINATION_VALUE,
  billingReportsDoctorDisbursementDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingReportsDoctorDisbursementPatientFilter: '',
  billingReportsDoctorDisbursementStaffFilter: null,
  billingPartnerHmoReportsTablePagination: DEFAULT_PAGINATION_VALUE,
  billingPartnerHmoReportsTableDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingPartnerHmoReportsTablePatientFilter: '',
  billingPartnerHmoReportsTablePartnerFilter: null,
  billingPartnerGovernmentReportsTablePagination: DEFAULT_PAGINATION_VALUE,
  billingPartnerGovernmentReportsTableDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingPartnerGovernmentReportsTablePatientFilter: '',
  billingPartnerGovernmentReportsTablePartnerFilter: null,
  billingPartnerCompanyReportsTablePagination: DEFAULT_PAGINATION_VALUE,
  billingPartnerCompanyReportsTableDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingPartnerCompanyReportsTablePatientFilter: '',
  billingPartnerCompanyReportsTablePartnerFilter: null,
  billingAdjustmentsReportsTablePagination: DEFAULT_PAGINATION_VALUE,
  billingAdjustmentsReportsTableDateFilter: DEFAULT_DATE_FILTER_VALUE,
  billingAdjustmentsReportsTablePatientFilter: '',
  // diagnostics lab
  diagnosticOrderTestsLabPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticOrderTestsLabDateFilter: {},
  diagnosticOrderTestsLabStatusFilter: DEFAULT_DIAGNOSTIC_STATUS_FILTER_VALUE,
  diagnosticOrderTestsLabPatientFilter: '',
  diagnosticOrderTestsLabTestFilter: {},
  diagnosticPrintLabOrderPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticPrintLabOrderPatientFilter: '',
  diagnosticReadersReportLabPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticReadersReportLabDateFilter: DEFAULT_DATE_FILTER_VALUE,
  diagnosticReadersReportLabReaderFilter: null,
  diagnosticReadersReportLabTestFilter: '',
  diagnosticSpecimenTrackingPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticSpecimenTrackingDateFilter: DEFAULT_DATE_FILTER_VALUE,
  diagnosticSpecimenTrackingDiagnosticCenterFilter: null,
  diagnosticSpecimenTrackingStatusFilter: null,
  // diagnostics imaging
  diagnosticOrderTestsImagingPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticOrderTestsImagingDateFilter: {},
  diagnosticOrderTestsImagingStatusFilter: DEFAULT_DIAGNOSTIC_STATUS_FILTER_VALUE,
  diagnosticOrderTestsImagingPatientFilter: '',
  diagnosticOrderTestsImagingTestFilter: {},
  diagnosticOrderTestsSectionFilter: {},
  diagnosticReadersReportImagingPagination: DEFAULT_PAGINATION_VALUE,
  diagnosticReadersReportImagingDateFilter: DEFAULT_DATE_FILTER_VALUE,
  diagnosticReadersReportImagingReaderFilter: null,
  diagnosticReadersReportImagingTestFilter: '',
  // hris
  hrisMyAttendancePagination: DEFAULT_PAGINATION_VALUE,
  hrisStaffAttendancePagination: DEFAULT_PAGINATION_VALUE,
  // inventory
  inventoryDailyReportPagination: DEFAULT_PAGINATION_VALUE,
  inventoryDailyReportDateFilter: new Date(),
  inventoryDailyReportSearchText: '',
  inventoryDailyReportTypeFilter: { text: 'All', value: 'all' },
  inventoryGrossProfitReportPagination: DEFAULT_PAGINATION_VALUE,
  inventoryGrossProfitReportDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryGrossProfitReportSearchText: '',
  inventoryMonthlyReportPagination: DEFAULT_PAGINATION_VALUE,
  inventoryMonthlyReportDateFilter: new Date(),
  inventoryMonthlyReportSearchText: '',
  inventoryMonthlyReportTypeFilter: { text: 'All', value: 'all' },
  inventoryProductsPagination: DEFAULT_PAGINATION_VALUE,
  inventoryProductsSearchText: '',
  inventoryProductsProductFilter: null,
  inventorySelectedStockRoom: null,
  inventoryStockRequestsPagination: DEFAULT_PAGINATION_VALUE,
  inventoryStockRequestsDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryStockRequestsSearchText: '',
  inventoryStockTransfersPagination: DEFAULT_PAGINATION_VALUE,
  inventoryStockTransfersDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryStockTransfersSearchText: '',
  inventoryTrackersPagination: DEFAULT_PAGINATION_VALUE,
  inventoryTrackersFilter: 'status',
  inventoryTransactionsAdjustmentPagination: DEFAULT_PAGINATION_VALUE,
  inventoryTransactionsAdjustmentDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryTransactionsAdjustmentSearchText: '',
  inventoryTransactionsPurchasePagination: DEFAULT_PAGINATION_VALUE,
  inventoryTransactionsPurchaseDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryTransactionsPurchaseSearchText: '',
  inventoryTransactionsReturnPagination: DEFAULT_PAGINATION_VALUE,
  inventoryTransactionsReturnDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryTransactionsReturnSearchText: '',
  inventoryTransactionsSalesPatientPagination: DEFAULT_PAGINATION_VALUE,
  inventoryTransactionsSalesPatientDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryTransactionsSalesPatientSearchText: '',
  inventoryTransactionsSalesMemberPagination: DEFAULT_PAGINATION_VALUE,
  inventoryTransactionsSalesMemberDateFilter: DEFAULT_DATE_FILTER_VALUE,
  inventoryTransactionsSalesMemberSearchText: '',
  inventoryVariantsPagination: DEFAULT_PAGINATION_VALUE,
  inventoryVariantsSearchText: '',
  inventoryVariantsVariantFilter: { name: 'All', type: 'all' },
  inventoryWeeklyReportPagination: DEFAULT_PAGINATION_VALUE,
  inventoryWeeklyReportDateFilter: new Date(),
  inventoryWeeklyReportSearchText: '',
  inventoryWeeklyReportTypeFilter: { text: 'All', value: 'all' },
  // pharmacy
  pharmacyDangerousVariantsPagination: DEFAULT_PAGINATION_VALUE,
  pharmacyDangerousVariantsSearchText: '',
  pharmacyDangerousVariantReportsPagination: DEFAULT_PAGINATION_VALUE,
  pharmacyDangerousVariantReportsDateFilter: DEFAULT_DATE_FILTER_VALUE,
  pharmacyDangerousVariantReportPagination: DEFAULT_PAGINATION_VALUE,
  pharmacyMedicationOrdersPagination: DEFAULT_PAGINATION_VALUE,
  pharmacyMedicationOrdersDateFilter: DEFAULT_DATE_FILTER_VALUE,
  pharmacyPwdLogsheetPagination: DEFAULT_PAGINATION_VALUE,
  pharmacyPwdLogsheetDateFilter: DEFAULT_DATE_FILTER_VALUE,
  pharmacySeniorCitizenLogsheetPagination: DEFAULT_PAGINATION_VALUE,
  pharmacySeniorCitizenLogsheetDateFilter: DEFAULT_DATE_FILTER_VALUE,
  // patient
  patientTablePagination: DEFAULT_PAGINATION_VALUE,
  patientTableTypeFilter: null,
  patientTableSearch: '',
  patientActiveEncountersPagination: DEFAULT_PAGINATION_VALUE,
  patientActiveEncountersStatusFilter: '',
  patientActiveEncountersStaffFilter: '',
  patientActiveEncountersForWrapUp: true,
  patientActiveEncountersSearchText: '',
  // pme
  pmeEncountersPagination: DEFAULT_PAGINATION_VALUE,
  pmeEncountersDateFilter: { text: 'All', start: null, end: null },
  pmeEncountersStatusFilter: {},
  pmeEncountersFacilityFilter: '',
  pmeEncountersPatientFilter: '',
  pmeWalkInEncountersPagination: DEFAULT_PAGINATION_VALUE,
  pmeWalkInEncountersDateFilter: DEFAULT_DATE_FILTER_VALUE,
  pmeWalkInEncountersStatusFilter: {},
  pmeWalkInEncountersFacilityFilter: '',
  pmeWalkInEncountersPatientFilter: '',
  pmeGroupsPagination: DEFAULT_PAGINATION_VALUE,
  pmeGroupsSearchText: '',
  pmeMonitoringReportPagination: DEFAULT_PAGINATION_VALUE,
  pmeMonitoringReportDateFilter: MONTH_DATE_FILTER_VALUE,
  pmeMonitoringReportStatusFilter: 'completed',
  pmeMonitoringReportPartnerFilter: null,
  pmeMonitoringReportFacilityFilter: '',
  pmeMonitoringReportPatientFilter: '',
  pmeMonitoringReportDateStatusFilter: 'exam-date',
  pmeSummaryReportsPagination: DEFAULT_PAGINATION_VALUE,
  pmeSummaryReportsDateFilter: MONTH_DATE_FILTER_VALUE,
  pmeSummaryReportsPartnerFilter: null,
  pmeSummaryReportsFacilityFilter: '',
  pmeSummaryReportsTemplateNameFilter: null,
  pmeSummaryReportsPatientFilter: '',
  // queues
  queueCancellationPagination: DEFAULT_PAGINATION_VALUE,
  queueCancellationDateFilter: DEFAULT_DATE_FILTER_VALUE,
  queueCancellationQueueFilter: {},
  // registration
  registrationActivePagination: DEFAULT_PAGINATION_VALUE,
  registrationActiveQueueFilter: {},
  registrationActivePatientFilter: '',
  registrationDailyReportPagination: DEFAULT_PAGINATION_VALUE,
  registrationDailyReportDateFilter: new Date(),
  registrationDailyReportPatientFilter: '',
  registrationTimeStudyReportPagination: DEFAULT_PAGINATION_VALUE,
  registrationTimeStudyReportDateFilter: DEFAULT_DATE_FILTER_VALUE,
  registrationTimeStudyReportExamTypeFilter: '',
  // settings/clinic
  settingsClinicBranchesPagination: DEFAULT_PAGINATION_VALUE,
  settingsClinicBranchesSearchText: '',
  settingsClinicHistoryPagination: DEFAULT_PAGINATION_VALUE,
  settingsClinicHistoryDateFilter: DEFAULT_DATE_FILTER_VALUE,
  settingsClinicHistoryActionFilter: '',
  settingsClinicHistoryStaffFilter: '',
  settingsClinicMembersPage: 1,
  settingsClinicMembersInvitedPage: 1,
  settingsClinicMembersRoleFilter: '',
  settingsClinicMembersSearchText: '',
  settingsPartnersCompaniesPagination: DEFAULT_PAGINATION_VALUE,
  settingsPartnersCompaniesSearchText: '',
  settingsPartnersDiagnosticCentersPagination: DEFAULT_PAGINATION_VALUE,
  settingsPartnersDiagnosticCentersSearchText: '',
  settingsPartnersGovInsurancesPagination: DEFAULT_PAGINATION_VALUE,
  settingsPartnersGovInsurancesSearchText: '',
  settingsPartnersHmosPagination: DEFAULT_PAGINATION_VALUE,
  settingsPartnersHmosSearchText: '',
  settingsRegistrationQueuesPagination: DEFAULT_PAGINATION_VALUE,
  settingsRegistrationQueuesSearchText: '',
  settingsRegistrationQueuesTypeFilter: '',
  settingsRegistrationTagsPagination: DEFAULT_PAGINATION_VALUE,
  settingsRegistrationTagsSearchText: '',
};

export default class Store {
  constructor (mycure) {
    this.state = cloneDeep(DEFAULT_STATE);

    this.getters = {
    };

    this.actions = {
      resetState ({ commit, state }) {
        const states = Object.keys(DEFAULT_STATE);
        // eslint-disable-next-line
        states?.forEach(state => {
          commit(`set${upperFirst(state)}`, DEFAULT_STATE[state]);
        });
      },
    };

    this.mutations = {
      ...mapSetters(Object.keys(DEFAULT_STATE)),
    };
  }

  extractModule () {
    return {
      namespaced: true,
      state: this.state,
      getters: this.getters,
      actions: this.actions,
      mutations: this.mutations,
    };
  }
}
